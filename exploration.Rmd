---
title: "exploration"
author: "Jordan Boswell and Thuy Nguyen"
date: "2/26/2022"
output: html_document
---

```{r}
ship <- read.csv("train.csv")

ship$HomePlanet <- factor(ship$HomePlanet)

ship$CryoSleep <- factor(ship$HomePlanet)

ship$Cabin1 <- as.character(mapply(function(x,y){if(nchar(x)==0){NULL}else{substr(x,y[2],y[3]-2)}},
                      ship$Cabin,
                      regexec("(.*?)/(.*?)/(.*)", ship$Cabin)))
ship$Cabin2 <- as.character(mapply(function(x,y){if(nchar(x)==0){NULL}else{substr(x,y[3],y[4]-2)}},
                      ship$Cabin,
                      regexec("(.*?)/(.*?)/(.*)", ship$Cabin)))
ship$Cabin3 <- as.character(mapply(function(x,y){if(nchar(x)==0){NULL}else{substr(x,y[4],nchar(x))}},
                      ship$Cabin,
                      regexec("(.*?)/(.*?)/(.*)", ship$Cabin)))

ship$gggID <- as.integer(substr(ship$PassengerId, 1,4))

ship$iID <- as.integer(substr(ship$PassengerId,6,8))

ship$gsize = NULL

for(i in ship$gggID){
ship$gsize <-c(ship$gsize,max(ship$iID[ship$gggID==i]))}



ship$Destination <- factor(ship$Destination)

ship$Age <- as.integer(ship$Age)

ship$VIP <- factor(ship$VIP)

ship$Transported <- factor(ship$Transported)
ship %>% group_by(gggID)
```

